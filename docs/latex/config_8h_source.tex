\hypertarget{config_8h_source}{}\doxysection{config.\+h}
\label{config_8h_source}\index{src/config.h@{src/config.h}}
\mbox{\hyperlink{config_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#ifndef \_SENSOR\_CONFIG\_H\_}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#define \_SENSOR\_CONFIG\_H\_}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{comment}{// Number of audio channels to record}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#define CONFIG\_CHANNEL\_COUNT               1}}
\DoxyCodeLine{9 \textcolor{comment}{// Name of the directory to store an individual recording; formatted with a single integer}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#define CONFIG\_RECORDING\_DIRECTORY         "{}/rec\%d"{}}}
\DoxyCodeLine{11 \textcolor{comment}{// Path to an individual channel recording including the recording index and the channel index}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define CONFIG\_CHANNEL\_PATH                "{}\%s/chan\%d.raw"{}}}
\DoxyCodeLine{13 \textcolor{comment}{// MAC Address used for ethernet communication}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#define CONFIG\_MAC\_ADDRESS                 \{0xDE,0xAD,0xBE,0xEF,0xC0,0xDE\}}}
\DoxyCodeLine{15 \textcolor{comment}{// FTP Server IP address}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define CONFIG\_FTP\_ADDRESS                 IPAddress(192,168,42,6)}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define CONFIG\_FTP\_PORT                    21}}
\DoxyCodeLine{18 \textcolor{comment}{// Self-\/assigned IP address}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define CONFIG\_SELF\_ADDRESS                IPAddress(192,168,42,10)}}
\DoxyCodeLine{20 \textcolor{comment}{// DNS Address (not used)}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define CONFIG\_DNS\_ADDRESS                 IPAddress(192,168,42,10)}}
\DoxyCodeLine{22 \textcolor{comment}{// SD Card FAT File System Type}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#define CONFIG\_SD\_FAT\_TYPE                 3}}
\DoxyCodeLine{24 \textcolor{comment}{// SD Card SS Pin is defined by the board in some cases}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#ifndef SDCARD\_SS\_PIN}}
\DoxyCodeLine{26 \textcolor{preprocessor}{\#define CONFIG\_SD\_CS\_PIN                   SS}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#define CONFIG\_SD\_CS\_PIN                   SDCARD\_SS\_PIN}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{30 \textcolor{comment}{// SPI Clock Frequency}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#define CONFIG\_SPI\_CLOCK                   SD\_SCK\_MHZ(50)}}
\DoxyCodeLine{32 \textcolor{comment}{// Network Heap Size}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#define CONFIG\_NETWORK\_HEAP\_SIZE           (1024*120)}}
\DoxyCodeLine{34 \textcolor{comment}{// Watchdog warning timeout (seconds, 1-\/>128)}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#define CONFIG\_WATCHDOG\_WARNING\_TIMEOUT    30}}
\DoxyCodeLine{36 \textcolor{comment}{// Watchdog reset timeout (seconds, 1-\/>128, greater than warning)}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#define CONFIG\_WATCHDOG\_RESET\_TIMEOUT      60}}
\DoxyCodeLine{38 \textcolor{comment}{// Serial baud rate}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#define CONFIG\_SERIAL\_BAUD                 9600}}
\DoxyCodeLine{40 \textcolor{comment}{// LED used to indicate sampling}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#define CONFIG\_LED                         LED\_BUILTIN}}
\DoxyCodeLine{42 \textcolor{comment}{// Length of time to sample (milliseconds)}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#define CONFIG\_RECORDING\_LENGTH               5000}}
\DoxyCodeLine{44 \textcolor{comment}{// Length of time to sleep between sampling (milliseconds)}}
\DoxyCodeLine{45 \textcolor{preprocessor}{\#define CONFIG\_HOLD\_LENGTH                 25000}}
\DoxyCodeLine{46 \textcolor{comment}{// FTP credentials for sample uploads}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#define CONFIG\_FTP\_USER                    "{}ftpuser"{}}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#define CONFIG\_FTP\_PASSWORD                "{}just4munk"{}}}
\DoxyCodeLine{49 \textcolor{comment}{// Size of the audio queue buffer}}
\DoxyCodeLine{50 \textcolor{preprocessor}{\#define CONFIG\_AUDIO\_BUFFER\_SIZE           256}}
\DoxyCodeLine{51 \textcolor{comment}{// Roll off old recordings when SD card is full}}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#define CONFIG\_SD\_CARD\_ROLLOFF             0}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \textcolor{comment}{/*********************************************************}}
\DoxyCodeLine{56 \textcolor{comment}{}}
\DoxyCodeLine{57 \textcolor{comment}{ The following blocks utilize the above configuration to}}
\DoxyCodeLine{58 \textcolor{comment}{ verify some basic format or value constraints and build}}
\DoxyCodeLine{59 \textcolor{comment}{ more complex configurations from the above basic configs.}}
\DoxyCodeLine{60 \textcolor{comment}{}}
\DoxyCodeLine{61 \textcolor{comment}{*********************************************************/}}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 \textcolor{preprocessor}{\#if CONFIG\_SD\_FAT\_TYPE == 0}}
\DoxyCodeLine{64 \textcolor{preprocessor}{\#define CONFIG\_SD\_CONTROLLER                      SdFat}}
\DoxyCodeLine{65 \textcolor{preprocessor}{\#define CONFIG\_SD\_FILE                            FsFile}}
\DoxyCodeLine{66 \textcolor{preprocessor}{\#elif CONFIG\_SD\_FAT\_TYPE == 1}}
\DoxyCodeLine{67 \textcolor{preprocessor}{\#define CONFIG\_SD\_CONTROLLER                      SdFat32}}
\DoxyCodeLine{68 \textcolor{preprocessor}{\#define CONFIG\_SD\_FILE                            FsFile32}}
\DoxyCodeLine{69 \textcolor{preprocessor}{\#elif CONFIG\_SD\_FAT\_TYPE == 2}}
\DoxyCodeLine{70 \textcolor{preprocessor}{\#define CONFIG\_SD\_CONTROLLER                      SdExFat}}
\DoxyCodeLine{71 \textcolor{preprocessor}{\#define CONFIG\_SD\_FILE                            ExFile}}
\DoxyCodeLine{72 \textcolor{preprocessor}{\#elif CONFIG\_SD\_FAT\_TYPE == 3}}
\DoxyCodeLine{73 \textcolor{preprocessor}{\#define CONFIG\_SD\_CONTROLLER                      SdFs}}
\DoxyCodeLine{74 \textcolor{preprocessor}{\#define CONFIG\_SD\_FILE                            FsFile}}
\DoxyCodeLine{75 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{76 \textcolor{preprocessor}{\#error invalid sd fat type}}
\DoxyCodeLine{77 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79 \textcolor{preprocessor}{\#if CONFIG\_WATCHDOG\_WARNING\_TIMEOUT < 0 || CONFIG\_WATCHDOG\_WARNING\_TIMEOUT > 128}}
\DoxyCodeLine{80 \textcolor{preprocessor}{\#error watchdog warning timeout out of bounds (expected [1,128])}}
\DoxyCodeLine{81 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{82 \textcolor{preprocessor}{\#if CONFIG\_WATCHDOG\_RESET\_TIMEOUT < 0 || CONFIG\_WATCHDOG\_RESET\_TIMEOUT > 128}}
\DoxyCodeLine{83 \textcolor{preprocessor}{\#error watchdog reset timeout out of bounds (expected [1,128])}}
\DoxyCodeLine{84 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{85 \textcolor{preprocessor}{\#if CONFIG\_WATCHDOG\_RESET\_TIMEOUT < CONFIG\_WATCHDOG\_WARNING\_TIMEOUT}}
\DoxyCodeLine{86 \textcolor{preprocessor}{\#error watchdog reset timeout must be greater than warning timeout}}
\DoxyCodeLine{87 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \textcolor{preprocessor}{\#if CONFIG\_CHANNEL\_COUNT == 1}}
\DoxyCodeLine{90 \textcolor{preprocessor}{\#define CONFIG\_AUDIO\_PATCH\_INIT AudioConnection(sine1, 0, m\_audio\_queue[0], 0)}}
\DoxyCodeLine{91 \textcolor{preprocessor}{\#elif CONFIG\_CHANNEL\_COUNT == 2}}
\DoxyCodeLine{92 \textcolor{preprocessor}{\#define CONFIG\_AUDIO\_PATCH\_INIT \(\backslash\)}}
\DoxyCodeLine{93 \textcolor{preprocessor}{  AudioConnection(m\_tdm, 0, m\_audio\_queue[0], 0), \(\backslash\)}}
\DoxyCodeLine{94 \textcolor{preprocessor}{  AudioConnection(m\_tdm, 2, m\_audio\_queue[1], 0)}}
\DoxyCodeLine{95 \textcolor{preprocessor}{\#elif CONFIG\_CHANNEL\_COUNT == 4}}
\DoxyCodeLine{96 \textcolor{preprocessor}{\#define CONFIG\_AUDIO\_PATCH\_INIT \(\backslash\)}}
\DoxyCodeLine{97 \textcolor{preprocessor}{  AudioConnection(m\_tdm, 2, m\_audio\_queue[0], 0), \(\backslash\)}}
\DoxyCodeLine{98 \textcolor{preprocessor}{  AudioConnection(m\_tdm, 4, m\_audio\_queue[1], 0), \(\backslash\)}}
\DoxyCodeLine{99 \textcolor{preprocessor}{  AudioConnection(m\_tdm, 6, m\_audio\_queue[2], 0), \(\backslash\)}}
\DoxyCodeLine{100 \textcolor{preprocessor}{  AudioConnection(m\_tdm, 8, m\_audio\_queue[3], 0)}}
\DoxyCodeLine{101 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{102 }
\DoxyCodeLine{103 \textcolor{comment}{// Number of samples to collect to meet recording length (floor'd)}}
\DoxyCodeLine{104 \textcolor{preprocessor}{\#define CONFIG\_RECORDING\_SAMPLE\_COUNT ((size\_t)( ((CONFIG\_RECORDING\_LENGTH / 1000) * 44100) / 256 ))}}
\DoxyCodeLine{105 \textcolor{preprocessor}{\#define CONFIG\_RECORDING\_TOTAL\_BLOCKS ((CONFIG\_CHANNEL\_COUNT * (CONFIG\_RECORDING\_SAMPLE\_COUNT*256) * 2) / 512)}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
